<div nz-row class="content">
    <div nz-col *ngIf="!passwordReseted"  nzSpan="10">
        <nz-card nzHoverable>
            <!-- <i nz-icon nzType="lock" nzTheme="fill"></i> -->
            <h1 nz-typography>Reset your Password</h1>
            <h4 nz-typography>Enter Your new password</h4>
            <!-- <p>when you fill in you registerd email address, you will be sent a link where you can reset your password.</p> -->
            <form nz-form  [formGroup]="resetForm" [nzLayout]="'vertical'" (ngSubmit)="onSubmit()">
                <nz-alert  *ngIf="error == true"  nzType="error" [nzMessage]="errorMsg" nzShowIcon>
                </nz-alert>
                <nz-form-item >
                    <nz-form-label  nzRequired>Password</nz-form-label>
                    <nz-form-control nzHasFeedback [nzErrorTip]="passwordErrorTips">
                        <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
                            <input nz-input nzSize="large" 
                            [type]="passwordVisible ? 'text' : 'password'" 
                            placeholder="New Password" 
                            formControlName="password" />
                            <ng-template #passwordErrorTips let-control>
                                <ng-container *ngIf="control.hasError('pattern')">Must contain at least one number and one uppercase and
                                  lowercase letter, and at least 8 or more characters!</ng-container>
                                <ng-container *ngIf="control.hasError('required')">Password is required</ng-container>
                              </ng-template>
                        </nz-input-group>
                        <ng-template #suffixTemplate>
                            <i nz-icon [nzType]="passwordVisible ? 'eye' : 'eye-invisible'"
                              (click)="passwordVisible = !passwordVisible"></i>
                          </ng-template>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label nzRequired>Confirm Password</nz-form-label>
                    <nz-form-control nzHasFeedback [nzErrorTip]="confirmPasswordErrorTips">
                      <nz-input-group nzPrefixIcon="lock" [nzSuffix]="suffixTemplate">
                        <input nz-input 
                        [type]="passwordVisible ? 'text' : 'password'" 
                        placeholder="Confirm Your Password"
                        formControlName="confirmPassword"/>
                        <ng-template #confirmPasswordErrorTips let-control>
                          <ng-container *ngIf="control.hasError('required')">This Feild is required!</ng-container>
                          <ng-container *ngIf="control.hasError('noMatch')">Password doesn't match!</ng-container>
                        </ng-template>
                      </nz-input-group>
                      <ng-template #suffixTemplate>
                        <i nz-icon [nzType]="passwordVisible ? 'eye' : 'eye-invisible'"
                          (click)="passwordVisible = !passwordVisible"></i>
                      </ng-template>
                    </nz-form-control>
                  </nz-form-item>
                <button nz-button nzBlock type="submit" [nzType]="'primary'" style="margin-top: 20px;"
                    [disabled]='!resetForm.valid'>Reset
                    Password</button>
            </form>
        </nz-card>
    </div>
    <div nz-col *ngIf="passwordReseted" nzSpan="12">
        <nz-card nzHoverable>
            <nz-result nzStatus="success" nzTitle="Password Reset Successfull" nzSubTitle="Proceed to the login page to login">
                <div nz-result-extra>
                    <button nz-button nzType="primary" nzSize="large" routerLink="/login" routerLinkActive="active">Continue to Login<i nz-icon nzType="login" nzTheme="outline"></i></button>
                   
                </div>
            </nz-result>
        </nz-card>
    </div>
</div>
